<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <title>100‚Äë–¥–Ω–µ–≤–Ω—ã–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –ø–ª–∞–Ω</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Preload —Ñ–æ–Ω–æ–≤—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
    <link rel="preload" as="image" href="images/motiv1.jpg">
    <link rel="preload" as="image" href="images/motiv2.jpg">
    <link rel="preload" as="image" href="images/motiv3.jpg">

    <style>
        :root{
            --primary:#0066cc;
            --primary-dark:#0044aa;
            --bg:#f9f9f9;
            --card:#ffffff;
            --muted:#666;
            --border:#ddd;
            --shadow: rgba(0,0,0,0.08);
            --rest-bg:#fff3cd;
            --rest-text:#856404;
            --done:#16a34a;
        }
        *{ box-sizing: border-box; }
        html, body { height: 100%; }
        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: var(--bg);
        }

        /* ===== BG SLIDESHOW ===== */
        .bg-slideshow{
            position: fixed;
            inset: 0;
            z-index: -2;
            overflow: hidden;
            background: linear-gradient(120deg, #0f172a, #111827); /* fallback */
        }
        .bg-slide{
            position: absolute;
            inset: 0;
            background-size: cover;
            background-position: center center;
            filter: saturate(1.05) contrast(1.05) brightness(0.9);
            opacity: 0;
            transition: opacity 1.2s ease;
        }
        .bg-slide.active{ opacity: 1; }
        .bg-overlay{
            position: fixed;
            inset: 0;
            z-index: -1;
            pointer-events: none;
            background: rgba(0,0,0,0.35);
            backdrop-filter: blur(1px);
        }
        @media (prefers-reduced-motion: reduce){
            .bg-slide{ transition: none; }
        }

        .container {
            max-width: 1200px;
            margin: auto;
            padding: 1rem;
        }
        header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 1.5rem 1rem;
            text-align: center;
            border-radius: 0 0 12px 12px;
            box-shadow: 0 2px 12px var(--shadow);
        }
        h1 { margin: 0; font-size: 1.8rem; }
        nav a {
            color: white;
            margin: 0 10px;
            text-decoration: none;
            font-weight: 500;
        }
        nav a:hover { text-decoration: underline; }

        /* –ª—ë–≥–∫–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å, —á—Ç–æ–±—ã –±—ã–ª –≤–∏–¥–µ–Ω —Ñ–æ–Ω */
        section {
            background: rgba(255,255,255,0.9);
            margin: 1.2rem 0;
            padding: 1.2rem;
            border-radius: 10px;
            box-shadow: 0 2px 8px var(--shadow);
        }
        .phase-section { margin: 1rem 0; }
        .phase-header {
            background: #eef5ff;
            padding: 12px;
            border-left: 5px solid var(--primary);
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            user-select: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 6px;
            transition: background 0.3s;
        }
        .phase-header:hover { background: #dde8f7; }
        .phase-header span.arrow { margin-left: 8px; }
        .phase-body { display: none; margin-top: 0.5rem; }
        .day-card {
            margin: 0.8rem 0;
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
            transition: box-shadow 0.3s ease;
            background: rgba(255,255,255,0.92);
        }
        .day-card:hover { box-shadow: 0 2px 10px var(--shadow); }
        .day-header {
            background: #f5f5f5;
            padding: 10px 12px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 8px;
        }
        .day-header:hover { background: #ececec; }
        .day-header.rest-day {
            background: var(--rest-bg);
            color: var(--rest-text);
        }
        .day-header .left {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
        }
        .day-header .right {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-shrink: 0;
        }
        .day-header .arrow { font-weight: 700; }
        .day-header.done {
            border-left: 4px solid var(--done);
        }
        .done-checkbox {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-weight: 500;
            font-size: 0.95rem;
        }
        .day-body {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.35s ease, padding 0.35s ease;
            background: transparent;
        }
        .day-body.open {
            padding: 10px 12px;
            max-height: 1000px;
        }
        .exercise-row {
            display: flex;
            align-items: center;
            padding: 0.55rem 0;
            border-bottom: 1px dashed #eee;
            gap: 0.5rem;
        }
        .exercise-row:last-child { border-bottom: none; }
        .exercise-name { flex: 2; font-weight: 500; }
        .exercise-input {
            flex: 0.8;
            padding: 0.4rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            text-align: center;
            font-size: 14px;
        }
        .note-input {
            flex: 1.5;
            padding: 0.4rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 14px;
        }
        .rest-message {
            text-align: center;
            color: var(--muted);
            font-style: italic;
            padding: 0.6rem 0.2rem;
        }
        .progress-section {
            background: rgba(240,248,255,0.95);
            padding: 1rem;
            border-radius: 8px;
            margin: 0.8rem 0;
            border: 1px solid #d8ecff;
        }
        .progress-bar {
            background: #e0e0e0;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin: 0.5rem 0;
        }
        .progress-fill {
            background: var(--primary);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }
        .save-button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.8rem 1.2rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        .save-button:hover { background: #0052a3; }
        .muted { color: var(--muted); }

        @media (max-width: 768px) {
            .exercise-row { flex-direction: column; align-items: stretch; }
            .exercise-name, .exercise-input, .note-input { width: 100%; margin: 0.2rem 0; }
            h1 { font-size: 1.4rem; }
            .phase-header, .day-header { font-size: 1rem; }
        }
    </style>
</head>
<body>

<!-- –§–æ–Ω–æ–≤–æ–µ —Å–ª–∞–π–¥-—à–æ—É -->
<div id="bg-slideshow" class="bg-slideshow" aria-hidden="true"></div>
<div class="bg-overlay" aria-hidden="true"></div>

<header>
    <h1>üî• 100‚Äë–¥–Ω–µ–≤–Ω—ã–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –ø–ª–∞–Ω</h1>
    <nav>
        <a href="#phases">–§–∞–∑—ã</a> ‚Ä¢
        <a href="#tips">–°–æ–≤–µ—Ç—ã</a> ‚Ä¢
        <a href="#progress">–ü—Ä–æ–≥—Ä–µ—Å—Å</a>
    </nav>
</header>

<div class="container">

    <section id="intro">
        <h2>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–ª–∞–Ω–∞</h2>
        <p>–¢—Ä—ë—Ö—Ñ–∞–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –æ—Ç–¥—ã—Ö–æ–º –≤ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –∏ —á–µ—Ç–≤–µ—Ä–≥. –ö–∞–∂–¥–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –≤–∫–ª—é—á–∞–µ—Ç —Ä–∞–∑–º–∏–Ω–∫—É (10‚Äì15 –º–∏–Ω) –∏ –∑–∞–º–∏–Ω–∫—É (5‚Äì10 –º–∏–Ω).</p>
        <ul>
            <li><strong>–§–∞–∑–∞ 1 (–¥–Ω–∏ 1‚Äì30):</strong> –ê–¥–∞–ø—Ç–∞—Ü–∏—è ‚Äî –ª—ë–≥–∫–∏–µ –≤–µ—Å–∞, 12‚Äì15 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π.</li>
            <li><strong>–§–∞–∑–∞ 2 (–¥–Ω–∏ 31‚Äì70):</strong> –ò–Ω—Ç–µ–Ω—Å–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Äî —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤–µ—Å–æ–≤, 8‚Äì12 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π.</li>
            <li><strong>–§–∞–∑–∞ 3 (–¥–Ω–∏ 71‚Äì100):</strong> –ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Äî —Å—É–ø–µ—Ä—Å–µ—Ç—ã, —Ä–µ–ª—å–µ—Ñ, –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å.</li>
        </ul>
        <p class="muted">–î–µ–Ω—å 1 –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –≤—Ç–æ—Ä–Ω–∏–∫. –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –∏ —á–µ—Ç–≤–µ—Ä–≥ ‚Äî –¥–Ω–∏ –æ—Ç–¥—ã—Ö–∞.</p>
    </section>

    <section id="progress">
        <h2>üìä –í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å</h2>
        <div class="progress-section">
            <p>–ó–∞–≤–µ—Ä—à–µ–Ω–æ –¥–Ω–µ–π: <span id="completed-days">0</span> –∏–∑ 100</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <p id="progress-text">0% –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</p>
            <button class="save-button" onclick="saveState()">
                üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
            </button>
        </div>
    </section>

    <section id="phases">
        <h2>üìã –¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–∑—ã</h2>

        <div class="phase-section">
            <div class="phase-header" onclick="togglePhase(this)">
                üìå –§–∞–∑–∞ 1: –ê–¥–∞–ø—Ç–∞—Ü–∏—è (–î–Ω–∏ 1‚Äì30)
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="phase-body" id="phase1-body"></div>
        </div>

        <div class="phase-section">
            <div class="phase-header" onclick="togglePhase(this)">
                üí™ –§–∞–∑–∞ 2: –ò–Ω—Ç–µ–Ω—Å–∏—Ñ–∏–∫–∞—Ü–∏—è (–î–Ω–∏ 31‚Äì70)
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="phase-body" id="phase2-body"></div>
        </div>

        <div class="phase-section">
            <div class="phase-header" onclick="togglePhase(this)">
                ‚ú® –§–∞–∑–∞ 3: –ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–î–Ω–∏ 71‚Äì100)
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="phase-body" id="phase3-body"></div>
        </div>
    </section>

    <section id="tips">
        <h2>üí° –ù–µ–∏–∑–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ —É—Å–ø–µ—Ö–∞</h2>
        <ul>
            <li><strong>–ü–∏—Ç–∞–Ω–∏–µ:</strong> –¥–µ—Ñ–∏—Ü–∏—Ç –∫–∞–ª–æ—Ä–∏–π + –≤—ã—Å–æ–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –±–µ–ª–∫–∞ (1.6‚Äì2.2 –≥/–∫–≥).</li>
            <li><strong>–í–æ–¥–∞:</strong> 30‚Äì40 –º–ª/–∫–≥ –º–∞—Å—Å—ã —Ç–µ–ª–∞.</li>
            <li><strong>–°–æ–Ω:</strong> –Ω–µ –º–µ–Ω–µ–µ 7‚Äì8 —á–∞—Å–æ–≤ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–Ω–∞.</li>
            <li><strong>–¢–µ—Ö–Ω–∏–∫–∞ –≤–∞–∂–Ω–µ–µ –≤–µ—Å–∞!</strong> –ù–∏–∫–∞–∫–æ–π –±–æ–ª–∏ –≤ —Å—É—Å—Ç–∞–≤–∞—Ö.</li>
            <li>–í–µ–¥–∏—Ç–µ –¥–Ω–µ–≤–Ω–∏–∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏ –ø–∏—Ç–∞–Ω–∏—è. –§–æ—Ç–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∫–∞–∂–¥—ã–µ 2 –Ω–µ–¥–µ–ª–∏.</li>
            <li><strong>–ü—Ä–æ–≥—Ä–µ—Å—Å–∏—è:</strong> —É–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ –≤–µ—Å –Ω–∞ 2.5‚Äì5% –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –≤–µ—Ä—Ö–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü—ã –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π —Å —á–∏—Å—Ç–æ–π —Ç–µ—Ö–Ω–∏–∫–æ–π.</li>
        </ul>
    </section>

</div>

<script>
    // ===== –§–û–ù–û–í–û–ï –°–õ–ê–ô–î-–®–û–£ =====
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–∞–ø–∫—É images/
    const bgImages = [
        'images/motiv1.jpg',
        'images/motiv2.jpg',
        'images/motiv3.jpg'
    ];
    const BG_INTERVAL = 8000; // –º—Å

    function setupBackgroundSlideshow(){
        const wrap = document.getElementById('bg-slideshow');
        if (!wrap) return;

        // —Å–æ–∑–¥–∞—ë–º —Å–ª–∞–π–¥—ã
        bgImages.forEach(src => {
            const slide = document.createElement('div');
            slide.className = 'bg-slide';
            slide.style.backgroundImage = `url("${src}")`;
            wrap.appendChild(slide);
        });

        const slides = wrap.querySelectorAll('.bg-slide');
        if (slides.length === 0) return;

        // –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (–Ω–∞ —Å–ª—É—á–∞–π –∫–µ—à–∞ –±–µ–∑ <link rel="preload">)
        slides.forEach(s => { const img = new Image(); img.src = s.style.backgroundImage.slice(5, -2); });

        let i = 0;
        slides[i].classList.add('active');
        setInterval(() => {
            slides[i].classList.remove('active');
            i = (i + 1) % slides.length;
            slides[i].classList.add('active');
        }, BG_INTERVAL);
    }

    // ===== –î–ê–ù–ù–´–ï –ü–õ–ê–ù–ê =====
    const workoutPlan = {
        phase1: {
            "–í—Ç–æ—Ä–Ω–∏–∫": [
                "–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è –±–µ–∑ –≤–µ—Å–∞ (3√ó15)",
                "–¢—è–≥–∞ –≤–µ—Ä—Ö–Ω–µ–≥–æ –±–ª–æ–∫–∞ –∫ –≥—Ä—É–¥–∏ (3√ó12)",
                "–†–∞–∑–≥–∏–±–∞–Ω–∏—è –Ω–æ–≥ (3√ó15)",
                "–ì–∏–ø–µ—Ä—ç–∫—Å—Ç–µ–Ω–∑–∏—è (3√ó12)",
                "–°–≥–∏–±–∞–Ω–∏—è –Ω–æ–≥ (3√ó12)",
                "–ü–ª–∞–Ω–∫–∞ (3√ó –º–∞–∫—Å. –≤—Ä–µ–º—è)"
            ],
            "–°—Ä–µ–¥–∞": [
                "–ù–∏–∑–∫–æ–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–µ –∫–∞—Ä–¥–∏–æ (–≤–µ–ª–æ—Ç—Ä–µ–Ω–∞–∂–µ—Ä/—ç–ª–ª–∏–ø—Å) 30‚Äì40 –º–∏–Ω",
                "–ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞—Å—Ç—è–∂–∫–∞ –≤—Å–µ–≥–æ —Ç–µ–ª–∞"
            ],
            "–ü—è—Ç–Ω–∏—Ü–∞": [
                "–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π –ª–µ–∂–∞ (3√ó12)",
                "–†–∞–∑–≤–æ–¥–∫–∏ –≥–∞–Ω—Ç–µ–ª–µ–π (3√ó15)",
                "–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π —Å–∏–¥—è (3√ó12)",
                "–ü—Ä–æ—Ç—è–∂–∫–∞ —Å –ª–µ–≥–∫–∏–º –≤–µ—Å–æ–º (3√ó15)",
                "–û—Ç–∂–∏–º–∞–Ω–∏—è —Å –∫–æ–ª–µ–Ω (3√ó10‚Äì15)"
            ],
            "–°—É–±–±–æ—Ç–∞": [
                "–ú–æ–ª–æ—Ç–∫–∏ —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏ (3√ó12)",
                "–†–∞–∑–≥–∏–±–∞–Ω–∏–µ —Ä—É–∫ –Ω–∞ –±–ª–æ–∫–µ (3√ó12)",
                "–ü–æ–¥—ä–µ–º –≥–∞–Ω—Ç–µ–ª–µ–π –Ω–∞ –±–∏—Ü–µ–ø—Å (3√ó12)",
                "–¢—è–≥–∞ –≤–µ—Ä—Ö–Ω–µ–≥–æ –±–ª–æ–∫–∞ (3√ó10)",
                "–°–∫—Ä—É—á–∏–≤–∞–Ω–∏—è (3√ó15)",
                "–ü–æ–¥—ä–µ–º –Ω–æ–≥ –≤ –≤–∏—Å–µ (3√ó10)"
            ],
            "–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ": [
                "–ü—Ä–æ–≥—É–ª–∫–∞ –Ω–∞ —Å–≤–µ–∂–µ–º –≤–æ–∑–¥—É—Ö–µ 60 –º–∏–Ω",
                "–õ–µ–≥–∫–∞—è –ø–æ–¥–≤–∏–∂–Ω–æ—Å—Ç—å –∏ —Ä–∞—Å—Ç—è–∂–∫–∞"
            ]
        },
        phase2: {
            "–í—Ç–æ—Ä–Ω–∏–∫": [
                "–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å–æ —à—Ç–∞–Ω–≥–æ–π (4√ó8‚Äì10)",
                "–ñ–∏–º –Ω–æ–≥–∞–º–∏ (4√ó10)",
                "–í—ã–ø–∞–¥—ã —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏ (3√ó10/–Ω–æ–≥—É)",
                "–†—É–º—ã–Ω—Å–∫–∞—è —Ç—è–≥–∞ —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏ (4√ó10)",
                "–ò–∫—Ä—ã —Å—Ç–æ—è (4√ó15)"
            ],
            "–°—Ä–µ–¥–∞": [
                "–°—Ç–∞–Ω–æ–≤–∞—è —Ç—è–≥–∞ (4√ó8)",
                "–¢—è–≥–∞ —à—Ç–∞–Ω–≥–∏ –≤ –Ω–∞–∫–ª–æ–Ω–µ (4√ó8‚Äì10)",
                "–¢—è–≥–∞ –≤–µ—Ä—Ö–Ω–µ–≥–æ –±–ª–æ–∫–∞ (4√ó10)",
                "–¢—è–≥–∞ –≥–∞–Ω—Ç–µ–ª–∏ –∫ –ø–æ—è—Å—É (4√ó10/—Ä—É–∫—É)",
                "–ü–æ–¥—ä–µ–º —à—Ç–∞–Ω–≥–∏ –Ω–∞ –±–∏—Ü–µ–ø—Å (4√ó10)"
            ],
            "–ü—è—Ç–Ω–∏—Ü–∞": [
                "–ñ–∏–º —à—Ç–∞–Ω–≥–∏ –ª–µ–∂–∞ (4√ó8‚Äì10)",
                "–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π —Å–∏–¥—è (4√ó10)",
                "–†–∞–∑–≤–æ–¥–∫–∏ –≥–∞–Ω—Ç–µ–ª–µ–π (4√ó12)",
                "–û—Ç–∂–∏–º–∞–Ω–∏—è –Ω–∞ –±—Ä—É—Å—å—è—Ö (–≤ –≥—Ä–∞–≤–∏—Ç—Ä–æ–Ω–µ) (4√ó8‚Äì10)",
                "–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π –∂–∏–º (4√ó10)"
            ],
            "–°—É–±–±–æ—Ç–∞": [
                "–ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–µ –∫–∞—Ä–¥–∏–æ (1 –º–∏–Ω –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ / 2 –º–∏–Ω –æ—Ç–¥—ã—Ö–∞) ‚Äì 20 –º–∏–Ω",
                "–ü–ª–∞–Ω–∫–∞ (4√ó45 —Å–µ–∫)",
                "–í–µ–ª–æ—Å–∏–ø–µ–¥ (3√ó20)",
                "–ü–æ–¥—ä–µ–º –Ω–æ–≥ (3√ó15)"
            ],
            "–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ": [
                "–ê–∫—Ç–∏–≤–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ: –ø—Ä–æ–≥—É–ª–∫–∞, –π–æ–≥–∞ –∏–ª–∏ –ø–ª–∞–≤–∞–Ω–∏–µ 30‚Äì45 –º–∏–Ω"
            ]
        },
        phase3: {
            "–í—Ç–æ—Ä–Ω–∏–∫": [
                "–°—É–ø–µ—Ä—Å–µ—Ç: –ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è (4√ó10) + –°–≥–∏–±–∞–Ω–∏—è –Ω–æ–≥ (4√ó12)",
                "–°—É–ø–µ—Ä—Å–µ—Ç: –ñ–∏–º –Ω–æ–≥–∞–º–∏ (4√ó12) + –†–∞–∑–≥–∏–±–∞–Ω–∏—è –Ω–æ–≥ (4√ó15)",
                "–í—ã–ø–∞–¥—ã –≤ –¥–≤–∏–∂–µ–Ω–∏–∏ (3√ó20 —à–∞–≥–æ–≤)",
                "–ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–µ –∫–∞—Ä–¥–∏–æ 20 –º–∏–Ω"
            ],
            "–°—Ä–µ–¥–∞": [
                "–°—É–ø–µ—Ä—Å–µ—Ç: –ñ–∏–º —à—Ç–∞–Ω–≥–∏ –ª–µ–∂–∞ (4√ó8‚Äì10) + –¢—è–≥–∞ –≤–µ—Ä—Ö–Ω–µ–≥–æ –±–ª–æ–∫–∞ (4√ó10)",
                "–°—É–ø–µ—Ä—Å–µ—Ç: –†–∞–∑–≤–æ–¥–∫–∏ –≥–∞–Ω—Ç–µ–ª–µ–π (4√ó12) + –¢—è–≥–∞ –≥–∞–Ω—Ç–µ–ª–∏ –∫ –ø–æ—è—Å—É (4√ó10/—Ä—É–∫—É)",
                "–°—É–ø–µ—Ä—Å–µ—Ç: –ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π —Å–∏–¥—è (4√ó10) + –ü–æ–¥—ä–µ–º—ã –Ω–∞ –±–∏—Ü–µ–ø—Å (4√ó10)"
            ],
            "–ü—è—Ç–Ω–∏—Ü–∞": [
                "–ö—Ä—É–≥–æ–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ (3‚Äì4 –∫—Ä—É–≥–∞): 1) –¢—è–≥–∞ –Ω–∏–∂–Ω–µ–≥–æ –±–ª–æ–∫–∞ (15) 2) –û—Ç–∂–∏–º–∞–Ω–∏—è (10‚Äì15) 3) –ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏ (15) 4) –ü–ª–∞–Ω–∫–∞ (45 —Å–µ–∫) 5) –ü—Ä–æ—Ö–æ–¥–∫–∞ —Ñ–µ—Ä–º–µ—Ä–∞ (30 —Å–µ–∫)",
                "–û—Ç–¥—ã—Ö –º–µ–∂–¥—É –∫—Ä—É–≥–∞–º–∏: 3 –º–∏–Ω"
            ],
            "–°—É–±–±–æ—Ç–∞": [
                "–ù–∏–∑–∫–æ–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–µ –∫–∞—Ä–¥–∏–æ 45‚Äì60 –º–∏–Ω (–ø—Ä–æ–≥—É–ª–∫–∞, –≤–µ–ª–æ—Å–∏–ø–µ–¥) –∏–ª–∏ –æ—Ç–¥—ã—Ö"
            ],
            "–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ": [
                "–ì–ª—É–±–æ–∫–∞—è —Ä–∞—Å—Ç—è–∂–∫–∞ –≤—Å–µ–≥–æ —Ç–µ–ª–∞",
                "–ô–æ–≥–∞, —Ä–æ–ª–ª–µ—Ä, –º–æ–±–∏–ª—å–Ω–æ—Å—Ç—å"
            ]
        }
    };

    // ===== –°–û–°–¢–û–Ø–ù–ò–ï –ò –•–†–ê–ù–ò–õ–ò–©–ï =====
    const STORAGE_KEY = 'workout100_data_v1';
    let state = { days: {} }; // { [dayNumber]: { completed: bool, entries: [ {w:'', n:''}, ... ] } }

    function loadState() {
        try {
            const raw = localStorage.getItem(STORAGE_KEY);
            if (raw) {
                const parsed = JSON.parse(raw);
                if (parsed && typeof parsed === 'object') {
                    state = { days: parsed.days || {} };
                }
            }
        } catch(e) {
            console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ:', e);
        }
    }

    function saveState() {
        try {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
            const btn = document.querySelector('.save-button');
            if (!btn) return;
            const original = btn.textContent;
            btn.textContent = '‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ';
            setTimeout(() => btn.textContent = original, 1200);
        } catch(e) {
            alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ –±—Ä–∞—É–∑–µ—Ä–µ.');
        }
    }

    // ===== –£–¢–ò–õ–ò–¢–´ =====
    // –î–µ–Ω—å 1=–í—Ç–æ—Ä–Ω–∏–∫. –ú–∞—Å—Å–∏–≤ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞.
    function getWeekDay(dayNumber) {
        const days = ["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫","–í—Ç–æ—Ä–Ω–∏–∫","–°—Ä–µ–¥–∞","–ß–µ—Ç–≤–µ—Ä–≥","–ü—è—Ç–Ω–∏—Ü–∞","–°—É–±–±–æ—Ç–∞","–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ"];
        return days[dayNumber % 7]; // 1%7=1 => –í—Ç–æ—Ä–Ω–∏–∫
    }
    function isRestWeekDay(weekDay) {
        return weekDay === "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫" || weekDay === "–ß–µ—Ç–≤–µ—Ä–≥";
    }
    function getDayPlan(dayNumber, phaseName) {
        const weekDay = getWeekDay(dayNumber);
        if (isRestWeekDay(weekDay)) {
            return { weekDay, rest: true, exercises: ["–û–¢–î–´–• ‚Äî –ø–æ–ª–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ"] };
        }
        const plan = workoutPlan[phaseName] || {};
        const list = plan[weekDay] || [];
        return { weekDay, rest: false, exercises: list.length ? list : ["–ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –¥–ª—è —ç—Ç–æ–≥–æ –¥–Ω—è"] };
    }
    function ensureDayState(day, exerciseCount) {
        if (!state.days[day]) {
            state.days[day] = { completed: false, entries: Array.from({length: exerciseCount}, () => ({w:'', n:''})) };
        } else {
            const current = state.days[day].entries || [];
            if (current.length !== exerciseCount) {
                const next = Array.from({length: exerciseCount}, (_, i) => current[i] || {w:'', n:''});
                state.days[day].entries = next;
            }
        }
    }
    function updateProgressUI() {
        const completed = Object.values(state.days).filter(d => d.completed).length;
        const percent = Math.round((completed / 100) * 100);
        document.getElementById('completed-days').textContent = completed;
        document.getElementById('progress-fill').style.width = percent + '%';
        document.getElementById('progress-text').textContent = percent + '% –≤—ã–ø–æ–ª–Ω–µ–Ω–æ';
    }
    function togglePhase(el) {
        const body = el.nextElementSibling;
        const arrow = el.querySelector('.arrow');
        const opened = body.style.display === 'block';
        body.style.display = opened ? 'none' : 'block';
        arrow.textContent = opened ? '‚ñ∂' : '‚ñº';
    }
    function toggleDayBody(header) {
        const body = header.nextElementSibling;
        const arrow = header.querySelector('.arrow');
        theOpen = body.classList.contains('open');
        body.classList.toggle('open', !theOpen);
        arrow.textContent = theOpen ? '‚ñ∂' : '‚ñº';
    }

    // ===== –ì–ï–ù–ï–†–ê–¶–ò–Ø –î–ù–ï–ô =====
    function generateDays(phaseName, startDay, endDay, containerId) {
        const container = document.getElementById(containerId);
        if (!container) return;

        for (let day = startDay; day <= endDay; day++) {
            const { weekDay, rest, exercises } = getDayPlan(day, phaseName);

            ensureDayState(day, rest ? 0 : exercises.length);
            const dayState = state.days[day];

            const card = document.createElement('div');
            card.className = 'day-card';

            const header = document.createElement('div');
            header.className = 'day-header' + (rest ? ' rest-day' : '') + (dayState.completed ? ' done' : '');

            const left = document.createElement('div');
            left.className = 'left';
            left.textContent = `–î–µ–Ω—å ${day} ‚Äî ${weekDay}`;

            const right = document.createElement('div');
            right.className = 'right';

            const doneLabel = document.createElement('label');
            doneLabel.className = 'done-checkbox';
            const doneInput = document.createElement('input');
            doneInput.type = 'checkbox';
            doneInput.checked = !!dayState.completed;
            doneInput.addEventListener('click', (e) => e.stopPropagation());
            doneInput.addEventListener('change', (e) => {
                state.days[day].completed = e.target.checked;
                header.classList.toggle('done', e.target.checked);
                updateProgressUI();
                saveState();
            });
            const doneText = document.createElement('span');
            doneText.textContent = '–°–¥–µ–ª–∞–Ω–æ';
            doneLabel.appendChild(doneInput);
            doneLabel.appendChild(doneText);

            const arrow = document.createElement('span');
            arrow.className = 'arrow';
            arrow.textContent = '‚ñ∂';

            right.appendChild(doneLabel);
            right.appendChild(arrow);

            header.appendChild(left);
            header.appendChild(right);
            header.addEventListener('click', () => toggleDayBody(header));

            const body = document.createElement('div');
            body.className = 'day-body';

            if (rest) {
                const msg = document.createElement('div');
                msg.className = 'rest-message';
                msg.textContent = exercises[0];
                body.appendChild(msg);
            } else {
                exercises.forEach((exercise, idx) => {
                    const row = document.createElement('div');
                    row.className = 'exercise-row';

                    const nameDiv = document.createElement('div');
                    nameDiv.className = 'exercise-name';
                    nameDiv.textContent = exercise;

                    const weightInput = document.createElement('input');
                    weightInput.className = 'exercise-input';
                    weightInput.type = 'number';
                    weightInput.inputMode = 'decimal';
                    weightInput.min = '0';
                    weightInput.step = '0.5';
                    weightInput.placeholder = '–≤–µ—Å, –∫–≥';
                    weightInput.value = state.days[day].entries[idx]?.w || '';
                    weightInput.addEventListener('input', () => {
                        state.days[day].entries[idx] = state.days[day].entries[idx] || {w:'', n:''};
                        state.days[day].entries[idx].w = weightInput.value;
                        saveState();
                    });

                    const noteInput = document.createElement('input');
                    noteInput.className = 'note-input';
                    noteInput.type = 'text';
                    noteInput.placeholder = '—Ä–µ–∑—É–ª—å—Ç–∞—Ç / –∑–∞–º–µ—Ç–∫–∞';
                    noteInput.value = state.days[day].entries[idx]?.n || '';
                    noteInput.addEventListener('input', () => {
                        state.days[day].entries[idx] = state.days[day].entries[idx] || {w:'', n:''};
                        state.days[day].entries[idx].n = noteInput.value;
                        saveState();
                    });

                    row.appendChild(nameDiv);
                    row.appendChild(weightInput);
                    row.appendChild(noteInput);

                    body.appendChild(row);
                });
            }

            card.appendChild(header);
            card.appendChild(body);
            container.appendChild(card);
        }
    }

    // ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø =====
    document.addEventListener('DOMContentLoaded', () => {
        setupBackgroundSlideshow(); // —Ñ–æ–Ω
        loadState();
        generateDays('phase1', 1, 30, 'phase1-body');
        generateDays('phase2', 31, 70, 'phase2-body');
        generateDays('phase3', 71, 100, 'phase3-body');
        updateProgressUI();
    });
</script>

</body>
</html>